const { contextBridge, ipcRenderer } = require('electron');

contextBridge.exposeInMainWorld('electronAPI', {
  askQuestion: (question: string) => ipcRenderer.invoke('ask-question', question),
  getMemoryCount: () => ipcRenderer.invoke('get-memory-count'),
  onMemoryCountUpdate: (callback: (count: number) => void) => {
    ipcRenderer.on('memory-count-update', (_event: any, count: number) => callback(count));
  },
  quit: () => ipcRenderer.invoke('quit-app')
});

console.log('✅ PRELOAD: Loaded successfully');
console.log('✅ PRELOAD: electronAPI exposed to window');

